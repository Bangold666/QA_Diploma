# План автоматизации веб сервиса "Путешествие дня"
## Перечень автоматизируемых сценариев:
Корректными данными при заполнении полей ввода следует считать:

1. Номер карты: цифровые символы, 16 шт., в формате **** **** **** ****
2. Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год
3. Год: последние две цифры порядкового номера года, не ранее текущего года, не более 5ти лет от текущего года 
4. Владелец: буквенные символы латинского алфавита 
5. CVC: цифровые символы, 3 шт.

Карты предоставленные, для тестирования сервиса (data.json):
* Оплата картой "4444 4444 4444 4441" APPROVED
* Оплата картой "4444 4444 4444 4442" DECLINED

### Тестируемые базы данных
* MySQL
* PostgreSQL

### Перечень используемых инструментов с обоснованием выбора
* Java 8 - язык написания авто-тестов, наиболее надежная версия 
* Gradle - система автоматизации сборки и управления зависимостями 
* JUnit — платформа для написания авто-тестов и их запуска 
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, более удобный и простой в использовании, чем Selenium 
* Docker Compose - инструмент, позволяющий запускать мультиконтейнерные приложения, чтобы не устанавливать на компьютер необходимые для работы приложения Node.js и СУБД 
* Allure - фреймворк, предназначенный для создания отчетов, более наглядных, чем у Gradle

### Тестовые сценарии
#### Позитивные сценарии
1. Оплата по карте со статусом APPROVED  
   Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в payment_entity появилась запись со статусом APPROVED
2. Кредит по данным карты со статусом APPROVED  
   Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком", в БД в credit_request_entity появилась запись со статусом APPROVED
3. Оплата по карте со статусом DECLINED  
   Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в payment_entity появилась запись со статусом DECLINED
4. Кредит по данным карты со статусом DECLINED  
   Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД в credit_request_entity появилась запись со статусом DECLINED

#### Негативные сценарии оплаты с карты (не в кредит)

1. Проверка покупки тура при пустом поле "Номер карты"    
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: , месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`. 
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

2. Проверка покупки тура при вводе короткого номера в поле "Номер карты"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: 4444 4444 4444, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.   
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат". 

3. Проверка покупки тура при вводе нуля в поле "Номер карты"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: 0, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.  
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

4. Проверка покупки тура при просроченным поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 22, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.  
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".    

5. Проверка покупки тура при вводе 00 в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 00, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.    
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".    

6. Проверка покупки тура при вводе 13 в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 13, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.    
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".  

7. Проверка покупки тура при пустом поле "Месяц"
   1. Открыть сайт http://localhost:8080/, нажать "Купить".
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: , год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).
   3. Нажать `Продолжить`.  
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

8. Проверка покупки тура при вводе "3" в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать "Купить".   
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 3, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.  
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".   

9. Проверка покупки тура при пустом поле "Год"
   1. Открыть сайт http://localhost:8080/, нажать "Купить".
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: , владелец: IVAN IVANOV, cvc/cvv: 123).
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".

10. Проверка покупки тура при вводе истекшего года в поле "Год"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 21, владелец: IVAN IVANOV, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Истёк срок действия карты".  

11. Проверка покупки тура при вводе на 5 лет дальше настоящего года в поле "Год"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".   
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 28, владелец: IVAN IVANOV, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".  

12. Проверка покупки тура при пустом поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: , cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Поле обязательно для заполнения".  

13. Проверка покупки тура при вводе кириллицы в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: Иван Иванов, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

14. Проверка покупки тура при вводе спецсимволов в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: !"№;?"%, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

15. Проверка покупки тура при вводе цифр в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: 12345, cvc/cvv: 123). 
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

16. Проверка покупки тура при вводе нуля в поле "Владелец"
    1. Открыть сайт http://localhost:8080/, нажать "Купить".
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: 0, cvc/cvv: 123).
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".

17. Проверка покупки тура при пустом поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: )  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  
 
18. Проверка покупки тура при вводе одной цифры в поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 1).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

19. Проверка покупки тура при вводе нуля в поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 0).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

20. Проверка покупки тура при вводе двух цифр в поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать "Купить".  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 12).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  


#### Негативные сценарии оплаты в кредит

1. Проверка покупки тура при пустом поле "Номер карты"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: , месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

2. Проверка покупки тура при вводе короткого номера в поле "Номер карты"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

3. Проверка покупки тура при вводе нуля в поле "Номер карты"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 0, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

4. Проверка покупки тура при просроченным поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 22, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".  

5. Проверка покупки тура при вводе 00 в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 00, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".  

6. Проверка покупки тура при вводе 13 в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 13, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".

7. Проверка покупки тура при пустом поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: , год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

8. Проверка покупки тура вводе "3" в поле "Месяц"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 3, год: 23, владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".

9. Проверка покупки тура при пустом поле "Год"  
   1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
   2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: , владелец: IVAN IVANOV, cvc/cvv: 123).  
   3. Нажать `Продолжить`.
   4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

10. Проверка покупки тура при вводе истекшего года в поле "Год"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 21, владелец: IVAN IVANOV, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Истёк срок действия карты".

11. Проверка покупки тура при вводе на 5 лет дальше настоящего года в поле "Год"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 28, владелец: IVAN IVANOV, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверно указан срок действия карты".

12. Проверка покупки тура при пустом поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: , cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Поле обязательно для заполнения".  

13. Проверка покупки тура при вводе кириллицы в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: Иван Иванов, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

14. Проверка покупки тура при вводе спецсимволов в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: !"№;?"%, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".

15. Проверка покупки тура при вводе цифр в поле "Владелец"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: 12345, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".

16. Проверка покупки тура при вводе нуля в поле "Владелец"
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: 0, cvc/cvv: 123).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

17. Проверка покупки тура при пустом поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv:)  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

18. Проверка покупки тура при вводе одной цифры в поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 1).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  

19. Проверка покупки тура при вводе нуля в поле "CVC/CVV"  
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 0).  
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  
    
20. Проверка покупки тура при вводе двух цифр в поле "CVC/CVV"
    1. Открыть сайт http://localhost:8080/, нажать `Купить в кредит`.  
    2. Ввести данные (номер карты: 4444 4444 4444 4441, месяц: 01, год: 23, владелец: IVAN IVANOV, cvc/cvv: 12).
    3. Нажать `Продолжить`.
    4. Ожидаемый результат: под полем номер карты появится сообщение "Неверный формат".  
    
## Перечень и описание возможных рисков при автоматизации  
1. Нечёткое ТЗ из-за которого могут быть дополнительные правки.  
2. Отсутствие уникальных локаторов для поиска элементов взаимодействия.  
3. Необходимость проверки работы приложения с двумя базами данных mysql и postgresql.  
4. Возможные проблемы совместимости плагинов в IntelliJ IDEA между собой.  
5. Автоматические тесты не проверяют вёрстку, поэтому если тесты будут успешно пройдены, то это не гарантирует правильность отображения.  

## Интервальная оценка с учётом рисков (в часах)   
1. Планирование автоматизации тестирования - 24  
2. Непосредственно сама автоматизация - 40  
3. Подготовке отчётных документов по итогам - автоматизированного тестирования - 16  
4. Подготовка отчётных документов по итогам автоматизации - 16 
5. Учёт рисков - 40  
   Итого: 136

## План сдачи работ
* Подготовка автотестов: 19 - 25.09.2022
* Результаты прогона автотестов: 25.09.2022
* Отчёт по автоматизации: 29.09.2022